<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>ESP32 LED Control</title>
<script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
<style>
body { background:#0d0d0d; color:#fff; font-family:Arial; display:flex; justify-content:center; align-items:center; height:100vh; }
.card { background:#1a1a1a; padding:30px 40px; border-radius:20px; text-align:center; width:350px; }
h1 { color:#00ffc8; }
.value-display { font-size:40px; color:#00ffe1; margin-bottom:20px; }
input[type=range] { width:100%; height:12px; border-radius:10px; }
</style>
</head>
<body>

<div class="card">
<h1>LED Brightness</h1>
<div id="value" class="value-display">0</div>
<input id="slider" type="range" min="0" max="255" value="0">
</div>

<script>
const slider = document.getElementById('slider');
const valueDisplay = document.getElementById('value');

// Connect to MQTT broker over WebSocket
const client = mqtt.connect('wss://broker.hivemq.com:8000/mqtt');

client.on('connect', () => { console.log('Connected to MQTT broker'); });

slider.oninput = () => {
    valueDisplay.textContent = slider.value;
    client.publish('home/led1/brightness', slider.value);
};
</script>

</body>
</html>
